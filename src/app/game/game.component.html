<div class="game-container">
  <app-timer [timeLeft]="timeLeft"></app-timer>
  <div class="opponent1-container" *ngIf="opponents.length > 1">
    <app-avatar [player]="opponents[1]"
                [isCurrentPlayer]="gameState.currentPlayer?.id === opponents[1].id"
                avatarImageSrc="../../assets/avatar1.png">
    </app-avatar>
    <app-opponent [player]="opponents[1]"
                  [showCards]="gameState.yaniv">
    </app-opponent>
  </div>
  <div class="opponents-center-container">
    <div class="opponent3-container opponent-side-container" *ngIf="opponents.length">
      <div class="opponent2-avatar">
        <app-avatar [player]="opponents[0]"
                    [isCurrentPlayer]="gameState.currentPlayer?.id === opponents[0].id"
                    avatarImageSrc="../../assets/avatar2.png">
        </app-avatar>
      </div>
      <div class="rotated-90">
        <app-opponent [player]="opponents[0]"
                      [showCards]="gameState.yaniv">
        </app-opponent>
      </div>
    </div>
    <div class="pile-deck-container">
      <div class="deck-container" *ngIf="gameState.deck?.length" (click)="makeMove()">
        <app-card *ngFor="let card of gameState.deck.slice(0, 6)" [card]="card" [flipped]="true"
                  class="deck-card"></app-card>
      </div>
      <div class="pile-container" *ngIf="thrownCards?.length">
        <app-card *ngFor="let card of thrownCards" [card]="card" class="pile-card" (click)="makeMove(card)">
        </app-card>
      </div>
    </div>
    <div class="opponent3-container opponent-side-container" *ngIf="opponents.length > 2">
      <div class="opponent3-avatar">
        <app-avatar [player]="opponents[2]"
                    [isCurrentPlayer]="gameState.currentPlayer?.id === opponents[2].id"
                    avatarImageSrc="../../assets/avatar3.png">
        </app-avatar>
      </div>
      <div class="rotated-270">
        <app-opponent [player]="opponents[2]"
                      [showCards]="gameState.yaniv">
        </app-opponent>
      </div>
    </div>
  </div>
  <div class="player-container">
    <app-player [player]="player"
                [isCurrentPlayer]="gameState.currentPlayer?.id === player.id"
                [yanivThreshold]="gameState.config.yanivThreshold"
                (yanivClick)="onPlayerCallYaniv()">
    </app-player>
    <app-avatar [player]="player"
                [isCurrentPlayer]="gameState.currentPlayer?.id === player.id"
                avatarImageSrc="../../assets/avatar4.png">
    </app-avatar>
  </div>
</div>
